{"version":3,"file":"downloader.js","sourceRoot":"","sources":["../../src/core/downloader.ts"],"names":[],"mappings":"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"}